<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
      "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>Aplicaciones Multimedia</title>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
  <link REL="SHORTCUT ICON" HREF="http://www.uc3m.es/favicon.ico"> 
  <link href="/rcrespo/docencia/asignatura.css" rel="stylesheet" type="text/css" />
  <link href="/estilo.css" rel="stylesheet" type="text/css" />

  <style TYPE="text/css">
  <!--
  @import url(/rcrespo/docencia/apuntes.css);
  --> 
  </style> 

</head>

<body>

<!-- BEGIN ADD, 21/05/09; to comply with UC3M corporate image requirements -->
<div class="headerBorderUc3mblue">&nbsp;</div>
<div class="header white">
  <table class="header white">
  <tr>
  <td width="25%"><a href="http://www.uc3m.es/"><img class="logos logoleft" src="http://www.it.uc3m.es/imag/EscudoLogoCorporativo.png" alt="Universidad Carlos III de Madrid"></a></td>
  <td class="header txtcntr" align="center">
  <span class="minititulo">Aplicaciones Multimedia - Curso 2011-12</a>
  <!-- <a href="/rcrespo/docencia/amm/1112/" class="minititulo">Aplicaciones Multimedia - Curso 2011-12</a> -->
  </td>
  <td width="25%"><a href="http://www.it.uc3m.es"><img class="logos logoright" src="http://www.it.uc3m.es/imag/SpanishLogoIT.png" alt="Departamento de Ingeniería Telemática"></td>
</div>
<div class="headerBorderUc3mblue"></div>
<!-- END ADD 21/05/09 -->


<!-- Tabla encabezado departamento -->
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#000000">
  <tr>
    <td>

<!-- BEGIN SUBSTITUTE, 21/05/09 -->
<!--
      <table width="100%" border="0" cellspacing="1" cellpadding="0" height="50">
-->
      <table width="100%" border="0" cellspacing="1" cellpadding="0">  
<!-- END SUBSTITUTE, 21/05/09 -->


        <tr>
          <td bgcolor="#CCD0D6" width="2000" height="22">
            <div align="right"><a href="http://www.it.uc3m.es/localizacion/localizacion.htm" class="azul">Localizaci&oacute;n</a>
              | <a href="#"></a><a href="http://www.it.uc3m.es/personal/directorio.htm"><span class="rojo">Personal</span></a>
              | <a href="http://www.it.uc3m.es/docencia/docencia.htm" class="azul">Docencia</a>

              | <a href="http://www.it.uc3m.es/investigacion/investigacion.htm" class="azul">Investigaci&oacute;n</a>
              | <a href="http://www.it.uc3m.es/novedades/novedades.htm" class="azul">Novedades</a>
              | <a href="http://www.it.uc3m.es/intranet/intranet.htm" class="azul">Intranet</a>
              &nbsp;&nbsp;</div>
          </td>

        </tr>
      </table>
    </td>
  </tr>
</table>

<!-- Tabla encabezado departamento (fin) -->


<!-- Navegación -->
<p class="nav"><a class="azul"
href="http://www.it.uc3m.es/index.html">Home</a> / <a class="azul"
href="http://www.it.uc3m.es/docencia/docencia.htm">Docencia</a> / <a
class="azul" href="http://www.it.uc3m.es/docencia/grado-audiovisuales.html">Grado en Ingeniería de Sistemas Audiovisuales</a> / <a class="azul" href="/rcrespo/docencia/amm/1112/">Aplicaciones Multimedia</a> <!-- <span class="peq">Aplicaciones Multimedia</span> -->
</p>
<!-- Navegación (fin) -->

<h1>HTML5: Canvas</h1>


<!-- Demos -->

<h2 class="minititulo">Objetivo: editor de viñetas de comic</h2>

<div class="boxed">

<p>
 HTML5 introduce el elemento <span class="code">&lt;canvas&gt;</span> que permite dibujar gráficos e imágenes mediante scripts (generalmente, con Javascript).
</p>

<p>
 En este ejercicio vamos a usar el elemento <span class="code">&lt;canvas&gt;</span> para facilitar la creación de viñetas de comic. La idea es proporcionar una imagen como base (usando bien una imagen, objetos pintados en el propio canvas o una combinación de ambos) al usuario y que éste pueda añadir las viñetas de texto, mediante un formulario.
</p>

</div>


<h2 class="minititulo">Paso 1: crear una página html con el canvas</h2>

<div class="boxed">

<p>
  Crea una página html con los elementos básicos: título de ventana, título (heading) de página, estilos, etc.
</p>

<p>
  Incluye un elemento <em>canvas</em>, especificando su tamaño y su identificador (para poder acceder a él después desde el código Javascript).
</p>

</div>


<h2 class="minititulo">Paso 2: acceder al canvas</h2>

<div class="boxed">

<p>
  Escribe una función Javascript (<span class="code">initLienzo</span> por ejemplo) para pintar la imagen inicial del canvas. 
  La función deberá recuperar el objeto canvas y comprobar que se inicializa correctamente. En caso contrario, muestra un cuadro de diálogo alertando del error.
</p>

<p>
  Asegúrate de que la función se ejecuta cuando se completa la carga de la página. (Recuerda que para recuperar un elemento DOM -en este caso el canvas-, la página tiene que haberse cargado por completo).
</p>

<p>
  <em>[Mejoras]</em> Mejora el aspecto de la viñeta utilizando estilos CSS:
</p>
<ul>
 <li>Por ejemplo: pon un borde al canvas, prueba con distintos colores y tipos de borde. </li>
</ul>
</div>

<h2 class="minititulo">Paso 3: pintar una imagen en el canvas</h2>

<div class="boxed">

<p>
  Agrega el código necesario a la función (<span class="code">initLienzo</span>) para pintar una imagen.
</p>

<p>
  Puedes usar cualquier imagen en la que quieras que se base tu viñeta, por ejemplo: 
</p>

<p>
<img height="200" src="img/piolin.png" />
</p>

<p>
  <em>[Mejoras]</em> Mejora el aspecto de la viñeta:
</p>
<ul>
 <li>Asegúrate de que la imagen cabe en el lienzo (canvas). Reescálala para que no ocupe todo el espacio (de modo que quede hueco para la viñeta de texto)</li>
 <li>Coloca la imagen centrada horizontalmente y abajo (para dejar espacio arriba para la viñeta de texto)</li>
</ul>

</div>

<h2 class="minititulo">Paso 4: escribir texto</h2>

<div class="boxed">

<p>
  Agrega el código necesario a la función (<span class="code">initLienzo</span>) para escribir en el canvas el texto de la viñeta.
</p>

<p>
  Por ejemplo, para la imagen anterior podríamos escribir el texto <em>"Me pareció ver un lindo gatito"</em>
</p>

<p>
  <em>[Mejoras]</em> Mejora el aspecto de la viñeta:
</p>
<ul>
 <li>Modifica la posición del texto</li>
 <li>Modifica la fuente del texto: tamaño, tipo de letra</li>
 <li>Modifica el color del texto</li>
 <li>Prueba a poner el texto sombreado</li>
</ul>

</div>

<h2 class="minititulo">Paso 5: dibujar formas en el canvas</h2>

<div class="boxed">

<p>
  Agrega el código necesario a la función (<span class="code">initLienzo</span>) para dibujar un cuadro o globo que enmarque el texto.
</p>

<p>
  Puedes utilizar un rectángulo como forma más sencilla. También puedes utilizar curvas cuadráticas para dibujar el típico globo. 
</p>

<p><img src="img/dialogo.png" /></p>

<p>
  <em>[Mejoras]</em> Mejora el aspecto de la viñeta:
</p>
<ul>
 <li>Modifica el aspecto de la figura: color, relleno, etc.</li>
</ul>

</div>

<h2 class="minititulo">Paso 6: interacción</h2>

<div class="boxed">

<p>
  Una vez tenemos los mecanismos para dibujar la viñeta, vamos a usar un formulario html para que el usuario pueda seleccionar el texto a escribir en vez de utilizar uno prefijado.
</p>

<ul>
<li>
  Agrega un formulario a la página web, con un campo de texto para que el usuario pueda introducir el texto a escribir en la viñeta y un botón enviar. 
</li>
<li>
  Agrega una función para escribir un texto en la viñeta. El texto en cuestión debe recuperarse del campo del formulario. 
</li>
<li>
  Agrega el código necesario para que la función anterior se ejecute cuando el usuario envía el formulario.
</li>

</ul>

<p>
  <em>[Mejoras]</em> Mejora el aspecto de la viñeta:
</p>
<ul>
 <li>Modifica la función de escritura para que borre el espacio, por si había un texto antes.</li>
 <li>Calcula automáticamente el tamaño del texto, para definir el tamaño del recuadro.</li>
 <li>Aplica el mismo proceso para que el usuario pueda seleccionar dinámicamente la imagen. En este caso debería introducir una url (de una imagen publicada en la web).</li>
</ul>

</div>


<h2 class="minititulo">Paso 7: exportar la viñeta</h2>

<div class="boxed">
<p>
  Añade el código necesario para exportar la viñeta. 
</p>

<p>
  Para ello, agrega un botón 'guardar' al formulario y programa el código necesario para que al pulsarlo el usuario el contenido del canvas se exporte como un fichero <em>png</em>. 
</p>

<p>
  <em>[Mejoras]</em> Mejora la funcionalidad del editor:
</p>
<ul>
 <li>Agrega un botón imprimir que permita imprimir el contenido del canvas.</li>
</ul>

</div>

<h2 class="minititulo">Paso 8: dispara tu creatividad :-)</h2>

<div class="boxed">

<p>
  Genera tu propia imagen para usar como base para la viñeta. 
  Puedes dibujar tus propios personajes usando formas sencillas. 
  También puedes completarlo combinándolo con alguna imagen de fondo.
</p>

<p>
  Por ejemplo, sería fácil dibujar un personaje similar al robot logotipo de <em>android</em>:
</p>

<p><img src="img/android-logo.png" height="150" /></p>

</div>

<p></p>

</body>
</html>
